<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>글 내용</title>

    <!-- 부트스트랩 CSS 추가 -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

    <link th:href="@{/vendor/fontawesome-free/css/all.min.css}" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
          rel="stylesheet">

    <link th:href="@{/css/sb-admin-2.min.css}" rel="stylesheet">
</head>
<body>

<div class="container mt-3">
    <div class="row">
        <div class="col-md-6">
            <h2 th:text="${post.title}" class="mb-4"></h2>
            <p th:text="${post.content}" class="lead"></p>
            <p>작성자: <span th:text="${post.author}"></span></p>
            <p>조회수: <span th:text="${post.view}"></span></p>
            <a th:href="@{/posts/update/{id}(id=${post.id})}"><button type="button" class="btn btn-primary">글 수정하기</button></a>
            <br>
            <br>
            
            <div>
				<form method="post" action="/api/add-comment">
					<p>
						<label>댓글 작성자</label> <input type="text" name="writer" th:value="${ename}" readonly>
					</p>
					<p>
						<textarea rows="5" cols="50" name="content"></textarea>
					</p>
					<p>
						<input type="hidden" th:name="postId" th:value="${post.id}">
						<button type="submit">댓글 작성</button>
					</p>
				</form>
				<hr>
			    <h3>댓글 목록</h3>
		     	<table class="table table-bordered">
				    <thead class="thead-dark">
	                	<tr>
		                    <th scope="col">작성자</th>
		                    <th scope="col">내용</th>
		                    <th scope="col">작성시간</th>
	                	</tr>
	            	</thead>
	            	<tbody>
		                <tr th:each="comment : ${comments}">
			                    <td th:text="${comment.comment_writer}"></td>
			                    <td th:text="${comment.comment_contents}"></td>
		                </tr>
		            </tbody>
		     	</table>
			</div>
            <a th:href="@{/test12}"><button type="button" class="btn btn-primary">목록으로</button></a>
        </div>
    </div>
</div>

<!-- 부트스트랩 JavaScript 및 부가적인 JavaScript 파일 추가 -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="/js/app/index.js"></script> 
</body>
</html>